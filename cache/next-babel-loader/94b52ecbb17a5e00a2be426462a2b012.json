{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\Desktop\\\\menu-restaurant\\\\menu-anchoita\\\\context\\\\seleccion\\\\seleccionState.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useReducer, useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport seleccionContext from './seleccionContext';\nimport seleccionReducer from './seleccionReducer';\nimport { NUEVA_ETAPA, NUEVA_V_PAIS, NUEVA_V_TIPO, VISIBILIDAD_CARRITO, VACIAR_CARRITO, CAMBIAR_CANTIDAD, AGREGAR_NUEVO, ACTUALIZAR_STORAGE, GET_STORAGE } from '../../types/index';\n\nconst SeleccionState = ({\n  children\n}) => {\n  const router = useRouter();\n  const [stateInicial, setStateInicial] = {\n    etapa: null,\n    v_pais: null,\n    v_tipo: null,\n    carrito: false,\n    productosCarrito: []\n  };\n  useEffect(() => {\n    if (localStorage.getItem('carrito')) {\n      setStateInicial(_objectSpread(_objectSpread({}, stateInicial), {}, {\n        productosCarrito: hayLocalStorage()\n      }));\n    } // eslint-disable-next-line\n\n  }, []);\n  const {\n    0: state,\n    1: dispatch\n  } = useReducer(seleccionReducer, stateInicial);\n\n  function hayLocalStorage() {\n    const existe = localStorage.getItem('carrito');\n    return JSON.parse(existe);\n  }\n\n  const cambiarSeleccion = (llave, valor) => {\n    if (llave === 'etapa') {\n      dispatch({\n        type: NUEVA_ETAPA,\n        payload: valor\n      });\n    } else if (llave === 'v_tipo') {\n      dispatch({\n        type: NUEVA_V_TIPO,\n        payload: valor\n      });\n    } else if (llave === 'v_pais') {\n      dispatch({\n        type: NUEVA_V_PAIS,\n        payload: valor\n      });\n    }\n  };\n\n  const visibilidadCarrito = estado => {\n    dispatch({\n      type: VISIBILIDAD_CARRITO,\n      payload: !estado\n    });\n  };\n\n  const vaciarCarrito = () => {\n    dispatch({\n      type: VACIAR_CARRITO\n    });\n    actualizarStorage();\n  };\n\n  const cambiarCantidad = (id, operacion) => {\n    const info = {\n      id,\n      operacion\n    };\n    dispatch({\n      type: CAMBIAR_CANTIDAD,\n      payload: info\n    });\n    actualizarStorage();\n  };\n\n  const agregarNuevo = info => {\n    dispatch({\n      type: AGREGAR_NUEVO,\n      payload: info\n    });\n    actualizarStorage();\n  };\n\n  const actualizarStorage = () => {\n    dispatch({\n      type: ACTUALIZAR_STORAGE\n    });\n  };\n\n  const getStorage = () => {\n    dispatch({\n      type: GET_STORAGE\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(seleccionContext.Provider, {\n    value: {\n      etapa: state.etapa,\n      v_pais: state.v_pais,\n      v_tipo: state.v_tipo,\n      carrito: state.carrito,\n      productosCarrito: state.productosCarrito,\n      cambiarSeleccion,\n      visibilidadCarrito,\n      vaciarCarrito,\n      cambiarCantidad,\n      agregarNuevo,\n      actualizarStorage,\n      getStorage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n\nexport default SeleccionState;","map":{"version":3,"sources":["C:/Users/Lucas/Desktop/menu-restaurant/menu-anchoita/context/seleccion/seleccionState.js"],"names":["React","useReducer","useState","useEffect","useRouter","seleccionContext","seleccionReducer","NUEVA_ETAPA","NUEVA_V_PAIS","NUEVA_V_TIPO","VISIBILIDAD_CARRITO","VACIAR_CARRITO","CAMBIAR_CANTIDAD","AGREGAR_NUEVO","ACTUALIZAR_STORAGE","GET_STORAGE","SeleccionState","children","router","stateInicial","setStateInicial","etapa","v_pais","v_tipo","carrito","productosCarrito","localStorage","getItem","hayLocalStorage","state","dispatch","existe","JSON","parse","cambiarSeleccion","llave","valor","type","payload","visibilidadCarrito","estado","vaciarCarrito","actualizarStorage","cambiarCantidad","id","operacion","info","agregarNuevo","getStorage"],"mappings":"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","sourcesContent":["import React, {useReducer, useState, useEffect} from 'react';\r\nimport {useRouter} from 'next/router';\r\nimport seleccionContext from './seleccionContext';\r\nimport seleccionReducer from './seleccionReducer';\r\nimport { NUEVA_ETAPA, NUEVA_V_PAIS, NUEVA_V_TIPO, VISIBILIDAD_CARRITO, VACIAR_CARRITO, CAMBIAR_CANTIDAD, AGREGAR_NUEVO, ACTUALIZAR_STORAGE, GET_STORAGE } from '../../types/index';\r\n\r\nconst SeleccionState = ({children}) => {\r\n    const router = useRouter();\r\n\r\n    const [stateInicial, setStateInicial] = {\r\n        etapa: null,\r\n        v_pais: null,\r\n        v_tipo: null,\r\n        carrito: false,\r\n        productosCarrito: []\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('carrito')) {\r\n            setStateInicial({\r\n                ...stateInicial,\r\n                productosCarrito: hayLocalStorage()\r\n\r\n            })\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const [state, dispatch] = useReducer(seleccionReducer, stateInicial);\r\n\r\n    function hayLocalStorage() {\r\n        const existe = localStorage.getItem('carrito');\r\n        return JSON.parse(existe);\r\n    }\r\n\r\n    const cambiarSeleccion = (llave, valor) => {\r\n        if (llave === 'etapa') {\r\n            dispatch({\r\n                type: NUEVA_ETAPA,\r\n                payload: valor\r\n            })\r\n        } else if (llave === 'v_tipo') {\r\n            dispatch({\r\n                type: NUEVA_V_TIPO,\r\n                payload: valor\r\n            })\r\n        } else if (llave === 'v_pais') {\r\n            dispatch({\r\n                type: NUEVA_V_PAIS,\r\n                payload: valor\r\n            })\r\n        }\r\n    }\r\n\r\n    const visibilidadCarrito = (estado) => {\r\n        dispatch({\r\n            type: VISIBILIDAD_CARRITO,\r\n            payload: !estado\r\n        })\r\n    }\r\n\r\n    const vaciarCarrito = () => {\r\n        dispatch({\r\n            type: VACIAR_CARRITO\r\n        })\r\n        actualizarStorage();\r\n    }\r\n\r\n    const cambiarCantidad = (id, operacion) => {\r\n        const info = { id, operacion }\r\n        dispatch({\r\n            type: CAMBIAR_CANTIDAD,\r\n            payload: info\r\n        })\r\n        actualizarStorage();\r\n    }\r\n\r\n    const agregarNuevo = (info) => {\r\n        dispatch({\r\n            type: AGREGAR_NUEVO,\r\n            payload: info\r\n        })\r\n        actualizarStorage();\r\n    }\r\n\r\n    const actualizarStorage = () => {\r\n        dispatch({\r\n            type: ACTUALIZAR_STORAGE\r\n        })\r\n    }\r\n\r\n    const getStorage = () => {\r\n        dispatch({\r\n            type: GET_STORAGE\r\n        })\r\n    }\r\n\r\n    return (\r\n        <seleccionContext.Provider\r\n            value={{\r\n                etapa: state.etapa,\r\n                v_pais: state.v_pais,\r\n                v_tipo: state.v_tipo,\r\n                carrito: state.carrito,\r\n                productosCarrito: state.productosCarrito,\r\n                cambiarSeleccion,\r\n                visibilidadCarrito,\r\n                vaciarCarrito,\r\n                cambiarCantidad,\r\n                agregarNuevo,\r\n                actualizarStorage,\r\n                getStorage\r\n            }}\r\n        >\r\n            {children}\r\n        </seleccionContext.Provider>\r\n    )\r\n}\r\n\r\nexport default SeleccionState;"]},"metadata":{},"sourceType":"module"}