{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\Desktop\\\\menu-restaurant\\\\menu-anchoita\\\\context\\\\seleccion\\\\seleccionState.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState, useEffect } from 'react';\nimport seleccionContext from './seleccionContext';\nimport seleccionReducer from './seleccionReducer';\nimport { NUEVA_ETAPA, NUEVA_V_PAIS, NUEVA_V_TIPO, VISIBILIDAD_CARRITO, VACIAR_CARRITO, CAMBIAR_CANTIDAD, AGREGAR_NUEVO, GET_STORAGE, CAMBIAR_BUSQUEDA, CAMBIAR_SHAKE } from '../../types/index';\n\nvar SeleccionState = function SeleccionState(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var stateInicial = {\n    etapa: null,\n    v_pais: null,\n    v_tipo: null,\n    carrito: false,\n    shake: false,\n    busqueda: '',\n    productosCarrito: [// {\n      //     categoria: 'comidas',\n      //     nombre: 'Bla bla bla',\n      //     cantidad: 1\n      // },\n      // {\n      //     categoria: 'comidas',\n      //     nombre: 'Bla bla blassss s s',\n      //     cantidad: 1\n      // },\n    ]\n  };\n\n  var _useReducer = useReducer(seleccionReducer, stateInicial),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var cambiarSeleccion = function cambiarSeleccion(llave, valor) {\n    if (llave === 'etapa') {\n      dispatch({\n        type: NUEVA_ETAPA,\n        payload: valor\n      });\n    } else if (llave === 'v_tipo') {\n      dispatch({\n        type: NUEVA_V_TIPO,\n        payload: valor\n      });\n    } else if (llave === 'v_pais') {\n      dispatch({\n        type: NUEVA_V_PAIS,\n        payload: valor\n      });\n    }\n  };\n\n  var visibilidadCarrito = function visibilidadCarrito(estado) {\n    dispatch({\n      type: VISIBILIDAD_CARRITO,\n      payload: !estado\n    });\n  };\n\n  var vaciarCarrito = function vaciarCarrito() {\n    dispatch({\n      type: VACIAR_CARRITO\n    });\n  };\n\n  var cambiarCantidad = function cambiarCantidad(nombre, operacion) {\n    var info = {\n      nombre: nombre,\n      operacion: operacion\n    };\n    dispatch({\n      type: CAMBIAR_CANTIDAD,\n      payload: info\n    });\n    actualizarStorage();\n    setTimeout(function () {\n      dispatch({\n        type: CAMBIAR_SHAKE\n      });\n    }, 1200);\n  };\n\n  var agregarNuevo = function agregarNuevo(informacion) {\n    var existe = false;\n    state.productosCarrito.forEach(function (producto) {\n      if (producto.nombre === informacion.nombre) {\n        existe = true;\n      }\n    });\n\n    if (existe) {\n      var info = {\n        nombre: informacion.nombre,\n        operacion: 'suma'\n      };\n      dispatch({\n        type: CAMBIAR_CANTIDAD,\n        payload: info\n      });\n    } else {\n      dispatch({\n        type: AGREGAR_NUEVO,\n        payload: informacion\n      });\n    }\n\n    actualizarStorage();\n    setTimeout(function () {\n      dispatch({\n        type: CAMBIAR_SHAKE\n      });\n    }, 1200);\n  };\n\n  var actualizarStorage = function actualizarStorage() {\n    setTimeout(function () {\n      localStorage.setItem('carrito', JSON.stringify(state.productosCarrito));\n    }, 500);\n  };\n\n  var getStorage = function getStorage() {\n    dispatch({\n      type: GET_STORAGE,\n      payload: JSON.parse(localStorage.getItem('carrito'))\n    });\n  };\n\n  var cambiarBusqueda = function cambiarBusqueda(typeado) {\n    dispatch({\n      type: CAMBIAR_BUSQUEDA,\n      payload: typeado\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(seleccionContext.Provider, {\n    value: {\n      etapa: state.etapa,\n      v_pais: state.v_pais,\n      v_tipo: state.v_tipo,\n      carrito: state.carrito,\n      productosCarrito: state.productosCarrito,\n      busqueda: state.busqueda,\n      shake: state.shake,\n      cambiarSeleccion: cambiarSeleccion,\n      visibilidadCarrito: visibilidadCarrito,\n      vaciarCarrito: vaciarCarrito,\n      cambiarCantidad: cambiarCantidad,\n      agregarNuevo: agregarNuevo,\n      actualizarStorage: actualizarStorage,\n      getStorage: getStorage,\n      cambiarBusqueda: cambiarBusqueda\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(SeleccionState, \"wkw/f9BN5ePQZrPBxtkd8+FWd9c=\");\n\n_c = SeleccionState;\nexport default SeleccionState;\n\nvar _c;\n\n$RefreshReg$(_c, \"SeleccionState\");","map":{"version":3,"sources":["C:/Users/Lucas/Desktop/menu-restaurant/menu-anchoita/context/seleccion/seleccionState.js"],"names":["React","useReducer","useState","useEffect","seleccionContext","seleccionReducer","NUEVA_ETAPA","NUEVA_V_PAIS","NUEVA_V_TIPO","VISIBILIDAD_CARRITO","VACIAR_CARRITO","CAMBIAR_CANTIDAD","AGREGAR_NUEVO","GET_STORAGE","CAMBIAR_BUSQUEDA","CAMBIAR_SHAKE","SeleccionState","children","stateInicial","etapa","v_pais","v_tipo","carrito","shake","busqueda","productosCarrito","state","dispatch","cambiarSeleccion","llave","valor","type","payload","visibilidadCarrito","estado","vaciarCarrito","cambiarCantidad","nombre","operacion","info","actualizarStorage","setTimeout","agregarNuevo","informacion","existe","forEach","producto","localStorage","setItem","JSON","stringify","getStorage","parse","getItem","cambiarBusqueda","typeado"],"mappings":"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","sourcesContent":["import React, {useReducer, useState, useEffect} from 'react';\r\nimport seleccionContext from './seleccionContext';\r\nimport seleccionReducer from './seleccionReducer';\r\nimport { NUEVA_ETAPA, NUEVA_V_PAIS, NUEVA_V_TIPO, VISIBILIDAD_CARRITO, VACIAR_CARRITO, CAMBIAR_CANTIDAD, AGREGAR_NUEVO, GET_STORAGE, CAMBIAR_BUSQUEDA, CAMBIAR_SHAKE } from '../../types/index';\r\n\r\nconst SeleccionState = ({children}) => {\r\n\r\n    const stateInicial = {\r\n        etapa: null,\r\n        v_pais: null,\r\n        v_tipo: null,\r\n        carrito: false,\r\n        shake: false,\r\n        busqueda: '',\r\n        productosCarrito: [\r\n            // {\r\n            //     categoria: 'comidas',\r\n            //     nombre: 'Bla bla bla',\r\n            //     cantidad: 1\r\n            // },\r\n            // {\r\n            //     categoria: 'comidas',\r\n            //     nombre: 'Bla bla blassss s s',\r\n            //     cantidad: 1\r\n            // },\r\n        ]\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(seleccionReducer, stateInicial);\r\n\r\n    const cambiarSeleccion = (llave, valor) => {\r\n        if (llave === 'etapa') {\r\n            dispatch({\r\n                type: NUEVA_ETAPA,\r\n                payload: valor\r\n            })\r\n        } else if (llave === 'v_tipo') {\r\n            dispatch({\r\n                type: NUEVA_V_TIPO,\r\n                payload: valor\r\n            })\r\n        } else if (llave === 'v_pais') {\r\n            dispatch({\r\n                type: NUEVA_V_PAIS,\r\n                payload: valor\r\n            })\r\n        }\r\n    }\r\n\r\n    const visibilidadCarrito = (estado) => {\r\n        dispatch({\r\n            type: VISIBILIDAD_CARRITO,\r\n            payload: !estado\r\n        })\r\n    }\r\n\r\n    const vaciarCarrito = () => {\r\n        dispatch({\r\n            type: VACIAR_CARRITO\r\n        })\r\n    }\r\n\r\n    const cambiarCantidad = (nombre, operacion) => {\r\n        const info = { nombre, operacion }\r\n        dispatch({\r\n            type: CAMBIAR_CANTIDAD,\r\n            payload: info\r\n        })\r\n        actualizarStorage();\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: CAMBIAR_SHAKE\r\n            })\r\n        }, 1200);\r\n    }\r\n\r\n    const agregarNuevo = (informacion) => {\r\n        let existe = false;\r\n        state.productosCarrito.forEach(producto => {\r\n            if(producto.nombre === informacion.nombre) {\r\n                existe = true;\r\n            }\r\n        })\r\n        if(existe) {\r\n            const info = { \r\n                nombre: informacion.nombre, \r\n                operacion: 'suma'\r\n            }\r\n            dispatch({\r\n                type: CAMBIAR_CANTIDAD,\r\n                payload: info\r\n            })\r\n        } else {\r\n            dispatch({\r\n                type: AGREGAR_NUEVO,\r\n                payload: informacion\r\n            })\r\n        }\r\n        actualizarStorage();\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: CAMBIAR_SHAKE\r\n            })\r\n        }, 1200);\r\n    }\r\n\r\n    const actualizarStorage = () => {\r\n        setTimeout(() => {\r\n            localStorage.setItem('carrito', JSON.stringify(state.productosCarrito));\r\n        }, 500);\r\n    }\r\n\r\n    const getStorage = () => {\r\n        dispatch({\r\n            type: GET_STORAGE,\r\n            payload: JSON.parse(localStorage.getItem('carrito'))\r\n        })\r\n    }\r\n\r\n    const cambiarBusqueda = (typeado) => {\r\n        dispatch({\r\n            type: CAMBIAR_BUSQUEDA,\r\n            payload: typeado\r\n        })\r\n    }\r\n\r\n    return (\r\n        <seleccionContext.Provider\r\n            value={{\r\n                etapa: state.etapa,\r\n                v_pais: state.v_pais,\r\n                v_tipo: state.v_tipo,\r\n                carrito: state.carrito,\r\n                productosCarrito: state.productosCarrito,\r\n                busqueda: state.busqueda,\r\n                shake: state.shake,\r\n                cambiarSeleccion,\r\n                visibilidadCarrito,\r\n                vaciarCarrito,\r\n                cambiarCantidad,\r\n                agregarNuevo,\r\n                actualizarStorage,\r\n                getStorage,\r\n                cambiarBusqueda,\r\n            }}\r\n        >\r\n            {children}\r\n        </seleccionContext.Provider>\r\n    )\r\n}\r\n\r\nexport default SeleccionState;"]},"metadata":{},"sourceType":"module"}