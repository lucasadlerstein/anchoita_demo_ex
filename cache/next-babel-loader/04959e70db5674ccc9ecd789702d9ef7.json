{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Row, Col, Container } from 'reactstrap';\nimport NavegacionMenu from '../../components/NavegacionMenu';\nimport EleccionContenido from '../../components/EleccionContenido';\nimport MenuContenido from '../../components/MenuContenido';\nimport VinosContenido from '../../components/VinosContenido';\nimport seleccionContext from '../../context/seleccion/seleccionContext';\nimport Carrito from '../../components/Carrito';\nimport clienteAxios from '../../config/axios';\nimport styled from '@emotion/styled';\nimport Head from 'next/head';\nimport { withTranslation } from '../../i18n';\nimport Link from 'next/link';\nimport ScrollTop from '../../components/ScrollTop';\n\nconst Menu = ({\n  t\n}) => {\n  const SeleccionContext = useContext(seleccionContext);\n  const {\n    etapa,\n    v_pais,\n    v_tipo,\n    carrito,\n    visibilidadCarrito,\n    getStorage,\n    cambiarBusqueda,\n    busqueda,\n    shake,\n    productosCarrito,\n    cambiarSeleccion\n  } = SeleccionContext;\n  const {\n    0: buscador,\n    1: setBuscador\n  } = useState(false);\n  const {\n    0: vinos,\n    1: setVinos\n  } = useState([]);\n  const {\n    0: cocteles,\n    1: setCocteles\n  } = useState([]);\n  const {\n    0: platos,\n    1: setPlatos\n  } = useState([]);\n  const {\n    0: stickyHeader,\n    1: setStickyHeader\n  } = useState(false);\n\n  function chequearScroll() {\n    if (!stickyHeader && window.pageYOffset > 100) {\n      if (etapa === 'vinos') {\n        document.querySelector('body').classList.remove('mt-0');\n        document.querySelector('body').classList.remove('mt-15r');\n        document.querySelector('body').classList.add('mt-18r');\n      } else {\n        document.querySelector('body').classList.remove('mt-0');\n        document.querySelector('body').classList.remove('mt-18r');\n        document.querySelector('body').classList.add('mt-15r');\n      }\n\n      setStickyHeader(true);\n    } else if (stickyHeader && window.pageYOffset <= 100) {\n      setStickyHeader(false);\n      document.querySelector('body').classList.remove('mt-15r');\n      document.querySelector('body').classList.remove('mt-18r');\n      document.querySelector('body').classList.add('mt-0');\n    }\n  }\n\n  if (false) {\n    window.addEventListener('scroll', chequearScroll);\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('carrito')) {\n      getStorage();\n    }\n\n    async function traerInfo() {\n      await clienteAxios.get('/platos/todos').then(resp => {\n        setPlatos(resp.data.platos);\n      }).catch(err => {\n        console.log('P-404-P');\n      });\n      await clienteAxios.get('/cocteles/todos').then(resp => {\n        setCocteles(resp.data.cocteles);\n      }).catch(err => {\n        console.log('C-404-C');\n      });\n      await clienteAxios.get('/vinos/todos').then(resp => {\n        setVinos(resp.data.vinos);\n      }).catch(err => {\n        console.log('V-404-V');\n      });\n    }\n\n    function llenarStates() {\n      if (etapa === '' || etapa === null) {\n        cambiarSeleccion('etapa', 'comidas');\n      }\n    }\n\n    traerInfo();\n    llenarStates(); // eslint-disable-next-line\n  }, []);\n  const cPlatos = [{\n    nombre: t('CatPlatos.Destacados'),\n    codigo: 'destacado'\n  }, {\n    nombre: t('CatPlatos.Mano'),\n    codigo: 'mano'\n  }, {\n    nombre: t('CatPlatos.Quesos'),\n    codigo: 'quesos'\n  }, {\n    nombre: t('CatPlatos.Crudas'),\n    codigo: 'crudas'\n  }, {\n    nombre: t('CatPlatos.Charcuteria'),\n    codigo: 'charcuteria'\n  }, {\n    nombre: t('CatPlatos.Vegetales'),\n    codigo: 'vegetales'\n  }, {\n    nombre: t('CatPlatos.RioMar'),\n    codigo: 'rio-mar'\n  }, {\n    nombre: t('CatPlatos.Huevos'),\n    codigo: 'huevos'\n  }, {\n    nombre: t('CatPlatos.Chuletones'),\n    codigo: 'chuletones'\n  }, {\n    nombre: t('CatPlatos.Carnes'),\n    codigo: 'carnes'\n  }, {\n    nombre: t('CatPlatos.Pastas'),\n    codigo: 'pastas'\n  }, {\n    nombre: t('CatPlatos.Postres'),\n    codigo: 'postres'\n  }, {\n    nombre: t('CatPlatos.Helados'),\n    codigo: 'helados'\n  }];\n  const cVinos = [{\n    nombre: t('CatVinos.Espumoso'),\n    codigo: 'espumoso'\n  }, {\n    nombre: t('CatVinos.Blanco'),\n    codigo: 'blanco'\n  }, {\n    nombre: t('CatVinos.Naranjo'),\n    codigo: 'naranjo'\n  }, {\n    nombre: t('CatVinos.Rosado'),\n    codigo: 'rosado'\n  }, {\n    nombre: t('CatVinos.Tinto'),\n    codigo: 'tinto'\n  }, {\n    nombre: t('CatVinos.Dulce'),\n    codigo: 'dulce'\n  }, {\n    nombre: t('CatVinos.FortificadoSeco'),\n    codigo: 'fort-seco'\n  }, {\n    nombre: t('CatVinos.FortificadoDulce'),\n    codigo: 'fort-dulce'\n  }, {\n    nombre: t('CatVinos.OtrosTamanos'),\n    codigo: 'tamanos'\n  }];\n  const cCocteleria = [{\n    nombre: t('CatCocteleria.Cocteles'),\n    codigo: 'CÃ³cteles'\n  }, {\n    nombre: t('CatCocteleria.Refrescos'),\n    codigo: 'Refrescos'\n  }, {\n    nombre: t('CatCocteleria.Cervezas'),\n    codigo: 'Cervezas'\n  }, {\n    nombre: t('CatCocteleria.Sidras'),\n    codigo: 'Sidras'\n  }, {\n    nombre: t('CatCocteleria.Destilados'),\n    codigo: 'Destilados'\n  } // { nombre: 'Bebidas', codigo: 'Bebidas' },\n  ];\n  const cBebidas = [{\n    nombre: t('CatBebidas.Bebidas'),\n    codigo: 'Bebidas'\n  }];\n  const BuscadorInput = styled.input`\n        border: none;\n        border-bottom: 1px solid white;\n        color: white;\n        background-color: transparent;\n        width: calc(98% - 1.2rem);\n        &:focus {\n            outline: none;\n        }\n    `;\n  const RowPersonalizada = styled(Row)`\n        background-color: var(--colorAzul);\n        position: sticky;\n        top: 0;\n        z-index: 998;\n        padding: 2rem 0;\n        min-height: 8rem;\n    `;\n  const Notificacion = styled.span`\n        position: absolute;\n        top: -0.5rem;\n        right: -0.5rem;\n        padding: .5rem;\n        border-radius: 100%;\n        background: var(--colorNaranja);\n        color: white;\n    `;\n\n  const handleChangeBusqueda = e => {\n    cambiarBusqueda(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        charSet: \"UTF-8\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n      }), /*#__PURE__*/_jsx(\"title\", {\n        children: t('SEO.Titulo')\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: t('SEO.Descripcion')\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"keywords\",\n        content: t('SEO.Keywords')\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"preload\",\n        href: \"/fonts/RobotoCondensed/RobotoCondensed-Regular.ttf\",\n        as: \"font\",\n        crossOrigin: \"\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"preload\",\n        href: \"/fonts/RobotoCondensed/RobotoCondensed-Bold.ttf\",\n        as: \"font\",\n        crossOrigin: \"\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"preload\",\n        href: \"/fonts/Henderson/Henderson-Sans-Regular.otf\",\n        as: \"font\",\n        crossOrigin: \"\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"preload\",\n        href: \"/fonts/Henderson/Henderson-Sans-Bold.otf\",\n        as: \"font\",\n        crossOrigin: \"\"\n      })]\n    }), /*#__PURE__*/_jsxs(Container, {\n      className: \"py-5r\",\n      children: [/*#__PURE__*/_jsxs(RowPersonalizada, {\n        children: [/*#__PURE__*/_jsxs(Col, {\n          xs: buscador ? 7 : 2,\n          className: `my-auto ${buscador ? 'text-center' : 'text-right'}`,\n          children: [buscador ? /*#__PURE__*/_jsx(BuscadorInput, {\n            type: \"text\",\n            autoFocus: true,\n            value: busqueda,\n            onChange: handleChangeBusqueda\n          }) : null, buscador ? /*#__PURE__*/_jsx(\"a\", {\n            onClick: () => {\n              setBuscador(!buscador);\n              cambiarBusqueda('');\n            },\n            children: \"X\"\n          }) : /*#__PURE__*/_jsx(\"a\", {\n            onClick: () => setBuscador(!buscador),\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"img/search-icon.png\",\n              alt: t('Alternativos.Buscar'),\n              style: {\n                width: '2rem'\n              }\n            })\n          })]\n        }), /*#__PURE__*/_jsx(Col, {\n          xs: buscador ? 3 : 8,\n          className: `text-center ${buscador ? 'px-0' : ''}`,\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: \"img/logo-menu.png\",\n                alt: \"Logo Anchoita\",\n                style: {\n                  maxHeight: '4rem'\n                }\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          xs: 2,\n          className: `my-auto text-left`,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            onClick: () => visibilidadCarrito(carrito),\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"img/pedido-icon.png\",\n              alt: t('Alternativos.VerWish'),\n              style: {\n                width: '2rem'\n              },\n              className: shake ? 'shake-and-pop' : null\n            }), productosCarrito.length !== 0 ? /*#__PURE__*/_jsx(Notificacion, {}) : null]\n          })\n        })]\n      }), /*#__PURE__*/_jsx(NavegacionMenu, {}), etapa !== null ? /*#__PURE__*/_jsx(EleccionContenido, {\n        cPlatos: cPlatos,\n        cCocteleria: cCocteleria,\n        cVinos: cVinos,\n        cBebidas: cBebidas\n      }) : null, etapa === 'comidas' && v_tipo !== null ? /*#__PURE__*/_jsx(MenuContenido, {\n        contenido: platos,\n        tipo: v_tipo,\n        categorias: cPlatos,\n        etapa: etapa\n      }) : null, etapa === 'vinos' && v_tipo !== null && v_pais !== null ? /*#__PURE__*/_jsx(VinosContenido, {\n        contenido: vinos,\n        tipo: v_tipo,\n        pais: v_pais,\n        categorias: cVinos,\n        etapa: etapa\n      }) : null, etapa === 'cocteleria' && v_tipo !== null ? /*#__PURE__*/_jsx(MenuContenido, {\n        contenido: cocteles,\n        tipo: v_tipo,\n        categorias: cCocteleria,\n        etapa: etapa\n      }) : null, etapa === 'bebidas' ? /*#__PURE__*/_jsx(MenuContenido, {\n        contenido: cocteles,\n        tipo: v_tipo,\n        categorias: cBebidas,\n        etapa: etapa\n      }) : null, carrito ? /*#__PURE__*/_jsx(Carrito, {}) : null, /*#__PURE__*/_jsx(ScrollTop, {})]\n    })]\n  });\n}; // Menu.getInitialProps = async () => ({\n//     namespacesRequired: ['common'],\n// });\n\n\nexport default withTranslation('common')(Menu);","map":null,"metadata":{},"sourceType":"module"}