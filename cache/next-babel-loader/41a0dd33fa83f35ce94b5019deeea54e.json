{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect, useContext, useState } from 'react';\nimport styled from '@emotion/styled';\nimport seleccionContext from '../context/seleccion/seleccionContext';\nimport ItemCarrito from './ItemCarrito';\nimport { withTranslation, i18n } from '../i18n';\nimport Swal from 'sweetalert2';\nconst Fondo = styled.div`\n    margin: 0 auto;\n    width: 95%;\n    max-width: 35rem;\n    height: 80%;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 300px 49px rgba(0,0,0,1);\n    -moz-box-shadow: 0px 0px 300px 49px rgba(0,0,0,1);\n    box-shadow: 0px 0px 300px 49px rgba(0,0,0,1);\n    position: fixed;\n    margin: 0 auto;\n    top: 50%;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    transform: translate(0, -50%);\n    transition: all .3s ease;\n    padding: 2rem 1.5rem;\n    color: var(--colorAzul);\n    z-index: 999;\n    overflow: scroll;\n`;\nconst Cerrar = styled.button`\n    background-color: transparent;\n    border: none;\n    font-weight: bold;\n    text-align: center;\n    margin: 0;\n    transition: all .3s ease;\n    &:hover {\n        transform: rotate(360deg);\n    }\n    &:focus {\n        outline: none;\n    }\n`;\nconst Categoria = styled.h5`\n    text-transform: uppercase;\n    color: var(--colorNaranja);\n    font-weight: bold;\n    font-size: 1.8rem;\n    padding-top: 1rem;\n    margin-top: 2rem;\n    text-align: center;\n    &:first-of-type {\n        margin-top: 0;\n    }\n`;\nconst BotonesCarrito = styled.div`\n    margin-bottom: 1rem;\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst Carrito = ({\n  t\n}) => {\n  const SeleccionContext = useContext(seleccionContext);\n  const {\n    carrito,\n    visibilidadCarrito,\n    productosCarrito,\n    vaciarCarrito\n  } = SeleccionContext;\n  const {\n    0: hayComidas,\n    1: setHayComidas\n  } = useState(false);\n  const {\n    0: hayVinos,\n    1: setHayVinos\n  } = useState(false);\n  const {\n    0: hayBebidas,\n    1: setHayBebidas\n  } = useState(false);\n  const {\n    0: hayCocteles,\n    1: setHayCocteles\n  } = useState(false);\n  useEffect(() => {\n    if (productosCarrito) {\n      productosCarrito.forEach(prod => {\n        if (prod.categoria === 'bebidas') {\n          setHayBebidas(true);\n        } else if (prod.categoria === 'vinos') {\n          setHayVinos(true);\n        } else if (prod.categoria === 'cocteleria') {\n          setHayCocteles(true);\n        } else if (prod.categoria === 'comidas') {\n          setHayComidas(true);\n        }\n      });\n    } // eslint-disable-next-line\n\n  }, []);\n\n  function clickVaciarCarrito() {\n    Swal.fire({\n      title: '¿Estás seguro/a de eliminar todos los productos?',\n      // text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: 'var(--colorAzul)',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, eliminar!',\n      cancelButtonText: 'Cancelar'\n    }).then(result => {\n      if (result.isConfirmed) {\n        vaciarCarrito();\n        setHayBebidas(false);\n        setHayVinos(false);\n        setHayCocteles(false);\n        setHayComidas(false);\n        visibilidadCarrito(true);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(Fondo, {\n    id: \"carrito\",\n    children: [/*#__PURE__*/_jsxs(BotonesCarrito, {\n      children: [/*#__PURE__*/_jsx(Cerrar, {\n        onClick: () => visibilidadCarrito(carrito),\n        children: /*#__PURE__*/_jsx(\"img\", {\n          height: \"20\",\n          src: \"img/cerrar-carrito-icon.png\",\n          alt: \"Cerrar carrito\"\n        })\n      }), /*#__PURE__*/_jsx(Cerrar, {\n        onClick: () => clickVaciarCarrito(),\n        children: /*#__PURE__*/_jsx(\"img\", {\n          height: \"30\",\n          src: \"img/vaciar-carrito-icon.png\",\n          alt: \"Vaciar carrito\"\n        })\n      })]\n    }), hayComidas ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Categoria, {\n        children: t('Secciones.Comidas')\n      }), productosCarrito.map((item, id) => {\n        if (item.categoria === 'comidas' && item.cantidad !== 0) {\n          return /*#__PURE__*/_jsx(ItemCarrito, {\n            item: item,\n            id: id\n          }, id);\n        }\n      })]\n    }) : null, hayVinos ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Categoria, {\n        children: t('Secciones.Vinos')\n      }), productosCarrito.map((item, id) => {\n        if (item.categoria === 'vinos' && item.cantidad !== 0) {\n          return /*#__PURE__*/_jsx(ItemCarrito, {\n            item: item,\n            id: id\n          }, id);\n        }\n      })]\n    }) : null, hayCocteles ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Categoria, {\n        children: t('Secciones.Cocteleria')\n      }), productosCarrito.map((item, id) => {\n        if (item.categoria === 'cocteleria' && item.cantidad !== 0) {\n          return /*#__PURE__*/_jsx(ItemCarrito, {\n            item: item,\n            id: id\n          }, id);\n        }\n      })]\n    }) : null, hayBebidas ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Categoria, {\n        children: t('Secciones.Bebidas')\n      }), productosCarrito.map((item, id) => {\n        if (item.categoria === 'bebidas' && item.cantidad !== 0) {\n          return /*#__PURE__*/_jsx(ItemCarrito, {\n            item: item,\n            id: id\n          }, id);\n        }\n      })]\n    }) : null]\n  });\n};\n\nexport default withTranslation('common')(Carrito);","map":null,"metadata":{},"sourceType":"module"}